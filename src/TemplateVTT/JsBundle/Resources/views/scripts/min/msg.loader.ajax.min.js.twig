<script>
    $.xhrPool=[],$.xhrPool.abortAll=function(){$(this).each(function(e,t){t.abort()}),$.xhrPool=[]},$.ajaxSetup({beforeSend:function(e){$.xhrPool.push(e)},complete:function(e){var t=$.xhrPool.indexOf(e);t>-1&&$.xhrPool.splice(t,1)}});var AjaxVTT=function(){var e={vttType:"POST",vttDataType:"JSON",vttDebug:!1,vttData:{},vttUrl:null,vttAsync:!0,vttEvent:null};return this.send=function(t,n){var o=$.extend({},e,t);o.vttEvent.preventDefault(),$.ajax({url:o.vttUrl,data:o.vttData,type:o.vttType,dataType:o.vttDataType,async:o.vttAsync,beforeSend:function(){LoaderVTT.run()}}).done(function(){LoaderVTT.stop()}).fail(function(){}).always(function(e,t){if("success"!==t)e.abort();else switch(o.vttDataType.toString().toLowerCase()){case"html":case"post":case"get":n(e);break;case"json":default:e.ok?(n(e),n=void 0):MensagemVTT.show({mensagem:e.mensagem})}})},this}(),MensagemVTT=function(){var e=$("body"),t={id:"#ID_SHOW_MENSAGEM_VTT",mensagem:"houve um erro ao receber os dados! Tente novamente.",tipo:"danger",botoes:{idCloseBtn:"#ID_SHOW_MENSAGEM_VTT_BTN_CLOSE"}},n={},o=function(e){n=void 0!==e?$.extend({},t,e):t};this.show=function(t){a(),o(t);var s="#fff",i="#5bc0de";switch(void 0===n.mensagem&&("danger"!==n.tipo||"warning"!==n.tipo)&&(n.mensagem="Dados processados com sucesso!"),n.tipo){case"danger":s="#fff",i="#9d261d";break;case"warning":s="#fff",i="#FFB848";break;case"success":s="#fff",i="#049cdb"}var r='{% include "TemplateVTTJsBundle:scripts:templates-mensagem/show.html.twig" %}';return e.append(r),$(n.id).find("h1").prop("titulo-mensagem",function(){$(this).text(n.mensagem)}),$.blockUI({message:$(n.id),css:{backgroundColor:i,color:s}}),this},this.close=function(t){return e.delegate(n.botoes.idCloseBtn,"click",function(e){e.preventDefault(),$(n.id).remove(),a(),void 0!==t&&t(e),t=void 0}),this};var a=function(){$.unblockUI()};return this}(),LoaderVTT=function(){var e=$("body");return this.run=function(t){var n={id:"#vtt-mensagem-loader",mensagem:"Aguarde..."},o=$.extend({},n,t);e.remove(o.id).append('{% include "TemplateVTTJsBundle:scripts:templates-mensagem/loader.html.twig" %}').find("h1").prop("titulo-mensagem",function(){$(this).text(o.mensagem)}).closest(o.id),$.blockUI({message:$(o.id)})},this.stop=function(){$.unblockUI()},this}();
</script>